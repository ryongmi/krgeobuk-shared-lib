registry=http://localhost:4873
# registry=http://localhost:4873/

#  docker run -it --rm \
#   -p 4873:4873 \
#   verdaccio/verdaccio

# docker run -d \
#   --name verdaccio \
#   -p 4873:4873 \
#   -v verdaccio_storage:/verdaccio/storage \
#   -v verdaccio_conf:/verdaccio/conf \
#   verdaccio/verdaccio


# pnpm adduser --registry http://localhost:4873

# pnpm publish --registry http://localhost:4873/

# pnpm publish --no-git-checks --registry http://localhost:4873

# npm install @krgeobuk/database-config --registry=http://localhost:4873

# 운영 환경 대응 방법: htpasswd 파일 직접 생성 (bcrypt)

#   방법 1: htpasswd 명령어로 bcrypt 사용 (권장)

#   # 1. htpasswd 설치 (Ubuntu/Debian)
#   sudo apt-get install -y apache2-utils

#   # 2. bcrypt 방식으로 htpasswd 파일 생성
#   # -c: 새 파일 생성, -B: bcrypt 알고리즘 사용, -C 10: cost factor (Verdaccio 기본값)
#   htpasswd -c -B -C 10 krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd krgeobuk
#   # Password 입력: (예: krgeobuk123!)

#   # 3. 파일 내용 확인
#   cat krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd

#   # 4. 권한 설정
#   chmod 644 krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd

#   # 5. Verdaccio 재시작
#   docker restart verdaccio

# 새 사용자 추가 (기존 파일에 추가)

#   # -c 플래그 없이 실행 (기존 파일에 추가)
#   htpasswd -B -C 10 krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd newuser

#   # Password 입력: (새 사용자의 비밀번호)

#   # 파일 확인 (여러 사용자가 있어야 함)
#   cat krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd

#   # Verdaccio 재시작
#   docker restart verdaccio

#   사용자 관리 명령어 모음

#   1. 첫 사용자 생성 (파일 생성)

#   htpasswd -c -B -C 10 htpasswd krgeobuk
#   # -c: create (새 파일 생성)

#   2. 추가 사용자 등록 (파일에 추가)

#   htpasswd -B -C 10 htpasswd developer1
#   htpasswd -B -C 10 htpasswd developer2
#   # -c 플래그 없음 (기존 파일에 추가)

#   3. 사용자 비밀번호 변경

#   htpasswd -B -C 10 htpasswd krgeobuk
#   # 기존 사용자명으로 다시 실행하면 비밀번호 업데이트됨

#   4. 사용자 삭제

#   htpasswd -D htpasswd developer1
#   # -D: delete

#   5. 파일 내용 확인

#   cat krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd

#   # 예시 출력:
#   # krgeobuk:$2y$10$xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  
#   # developer1:$2y$10$yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy
#   # developer2:$2y$10$zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz

#   6. 사용자 목록 확인

#   cut -d: -f1 krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd
#   # 출력:
#   # krgeobuk
#   # developer1
#   # developer2

#   운영 환경 사용자 관리 워크플로우

#   # 1. 새 개발자 계정 추가
#   htpasswd -B -C 10 krgeobuk-infrastructure/docker-compose/verdaccio/config/htpasswd jane

#   # 2. Verdaccio 재시작 (변경사항 반영)
#   docker restart verdaccio

#   # 3. 새 개발자에게 로그인 정보 전달
#   # Username: jane
#   # Password: (설정한 비밀번호)
#   # Registry: http://verdaccio.yourcompany.com:4873

#   # 4. 개발자가 로그인
#   npm login --registry http://localhost:4873

#   주의사항

#   ⚠️ 절대 하지 말 것: 기존 파일이 있는데 -c 플래그 사용
#   # ❌ 잘못된 예 - 기존 파일을 덮어씀!
#   htpasswd -c -B -C 10 htpasswd newuser
#   # 이렇게 하면 krgeobuk 사용자가 사라지고 newuser만 남음!       

#   # ✅ 올바른 예 - 기존 파일에 추가
#   htpasswd -B -C 10 htpasswd newuser